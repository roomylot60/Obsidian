# Multi-Agent

## LangGraph Multi-Agent 기반 Chatbot 생성

### Langcahin.Agents.Create_agent

```python
from openai import ChatOpenAI
from langchain.tools import tool
from langchain.agents import create_agent
from langchain_teddynote.messages import streamgraph
from langchain_core.messages import HumanMessage, SystemMessage, ToolMessage, AIMessage

llm = ChatOpenAI(model='gpt-4o-mini')

@tool
def sample_tool(name: str| None, context: str = "") -> str:
    """
    Description: 샘플 costom tool

    Args:
        name: 샘플 입력 값 1
        context: 샘플 입력 값 2

    Returns:
        샘플 리턴값
    """
    prompt = """샘플 prompt"""
    return f"{name}님이 입력한 내용: {context}을 출력합니다."


agent = create_agent(model=llm, tools=[sample_tool], system_prompt=prompt)

stream_graph(
    agent, 
    inputs={
        "messages": [
            HumanMessage(content="")
        ]

    }
)

```

- `langchain.tools.tool`: `@tool`을 사용하여 일반 정의 함수를 tool로 변경
- `langchain.agents.create_agent`: 사용할 LLM 모델, tool 목록, System prompt, Middleware 등을 사용하여 agent 생성
- Agent란, LLM이 매 스텝마다 **(1) 생각 → (2) 도구 선택 → (3) 실행 → (4) 관찰**을 반복하며 목표를 달성하도록 설계된 제어 루프입니다.

