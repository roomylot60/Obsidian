# Prompt Engineering

## Basic

- 간단한 prompt를 제공했을 때 모델은 입력받은 내용으로부터 유추한 답변을 출력한다.

```python
# 입력 Prompt
""" 
하늘은
"""
```

```powershell
푸른색이다. # 모델이 출력한 답변
```
- **Prompt Engineering**: LLM 모델에게 작업을 수행하도록 지시하기 위해 최적의 prompt를 설계하는 접근 방식

## Prompt 형식

- **Zero-shot prompting**: 질문 또는 지시를 통해 어떤 예시나 설명 없이 모델의 응답을 요구하여 prompting을 수행하는 방식
- **Few-shot prompting**: 일정 형식의 모범 예시를 제공하여 원하는 답을 얻도록 유도하는 방식

## Prompt 구성요소

- Instruction : 모델이 수행할 특정 작업 또는 지시
- Context : 더 나은 응답을 위해 모델을 조종할 수 있는 외부 정보나 추가 문맥
- Input data : 응답받고자 하는 입력이나 질문
- Output indicator : 출력의 유형이나 형식

## Prompt Design

- 최적의 결과를 얻기 위해 많은 실험이 필요한 반복적인 과정임을 인식
- 간단한 prompt로 시작하여 더 나은 결과를 위해 요소나 문맥을 계속 추가
- 여러 하위 작업을 포함한 큰 단위 작업을 실행해야 하는 경우, 작업을 보다 작은 단위로 세분화하고 결과가 개선됨에 따라 점진적으로 구축
- 프롬프트 설계 초기 과정에 너무 많은 복잡성이 추가되는 것을 방지

### 1. 지시

- '작성하기', '분류하기', '요약하기', '번역하기', '정렬하기' 등의 명령어를 사용하여 달성하고자 하는 결과를 모델에 지시함으로써 다양한 간단 작업에 대해 효과적인 프롬프트를 설계
- 다양한 키워드, 문맥 및 데이터를 활용하여 다양한 지시를 내려 보고, 특정 사용 사례와 작업에 가장 적합한 방법을 확인
- 수행하고자 하는 작업과 관련된 문맥이 구체적이고 적절할수록 더 좋은 결과
- '###'와 같이 명확한 구분 기호를 사용하여 명령어와 구분하여 시작 부분에 지시 사항을 명시

### 2. 특이성

- 모델에 실행시킬 지시와 작업을 구체적으로 설명
- 더 나은 결과를 내는 특정한 토큰이나 키워드는 존재하지 않으므로, 좋은 형식과 상세한 프롬프트를 준비하는 것이 중요
- 프롬프트에 예시를 제공하는 것은 특정한 형식으로 출력을 얻는 데 실제로도 매우 효과적
- 프롬프트의 길이에는 제한이 있기 때문에 불필요한 세부 사항은 배제하고 관련성이 있고, 당면한 과제에 기여하는 요소로 구성

``` python
# Prompt
"""
다음 텍스트에서 장소의 이름을 추출해 줘.
원하는 형식:
Place: <comma_separated_list_of_places>
입력: "이러한 발전은 연구자들에게 격려가 되지만, 많은 것들이 여전히 수수께끼입니다. 리스본에 있는 샴팔리마우드 센터(CCU: Champalimaud Centre for the Unknown)의 신경면역학자인 Henrique Veiga-Fernandes는 "뇌와 주변부에서 보이는 효과 사이에 블랙박스가 있는 경우가 종종 있습니다."라고 말합니다. 그리고 다음과 같이 덧붙입니다. "치료적 맥락에서 이를 사용하고자 할 경우, 그 메커니즘을 실제로 이해할 필요가 있습니다."
"""
```

```bash
# output
장소: 샴팔리마우드 센터(CCU: Champalimaud Centre for the Unknown), 리스본
```

### 3. 부정확성 피하기

- 프롬프트는 구체적이고 직접적이어야 더욱 좋은 결과를 출력

### 4. 해야 하는 것과 하지 말아야 할 것

- '하지 말아야 할 것'보다는 '해야 하는 것'에 초점을 두는 것이 중요
- 좋은 답변을 이끌어 내는 세부 사항에 집중할 수 있음

---
Ref. [Prompt](https://www.promptingguide.ai/kr/introduction/examples#%EB%AC%B8%EC%9E%A5-%EC%9A%94%EC%95%BD)